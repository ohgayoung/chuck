/*!
 * Copyright (c) 2017 NAVER Corp.
 * @egjs/flicking project is licensed under the MIT <https://naver.github.io/egjs/license.txt> license
 * 
 * @egjs/flicking JavaScript library
 * https://github.com/naver/egjs-flicking
 * 
 * @version 2.4.0
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@egjs/flicking")):"function"==typeof define&&define.amd?define("ParallaxEffect",["@egjs/flicking"],t):"object"==typeof exports?exports.ParallaxEffect=t(require("@egjs/flicking")):(e.eg=e.eg||{},e.eg.Flicking=e.eg.Flicking||{},e.eg.Flicking.plugin=e.eg.Flicking.plugin||{},e.eg.Flicking.plugin.ParallaxEffect=t(e.eg.Flicking))}(window,function(e){return function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var a=function(e){function ParallaxEffect(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ParallaxEffect),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{selector:t}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ParallaxEffect,e),ParallaxEffect.prototype.$componentMount=function(){var e=this;return this.imgs=this.$$.getAllElements().map(function(t){return t.querySelector(e.options.selector)}),this.resize(),this._build(),this},ParallaxEffect.prototype._build=function(){var e=this,t=o.default.utils,n=this._getCurrIndex();t.css(this.getInstanceConf().panel.$list,{overflow:"hidden"}),this.imgs.forEach(function(r,i){var o=-50;n>i?o=50:n===i&&(o=0),e.useWillChange&&t.css(r,{willChange:"transform"}),e._setTranslate(r,o+"%",0)})},ParallaxEffect.prototype._setTranslate=function(e,t,n){return e&&o.default.utils.css(e,{transform:o.default.utils.translate.apply(null,this.$$._getDataByDirection([t,n]).concat(this.useLayerHack))}),e},ParallaxEffect.prototype._getCurrIndex=function(){return this.getInstanceConf().panel.currIndex},ParallaxEffect.prototype._getPanel=function(){var e=this._getCurrIndex();return{prev:this.imgs[e-1],curr:this.imgs[e],next:this.imgs[e+1]}},ParallaxEffect.prototype.arrange=function(e){this.$$.options.circular&&"resize"!==e&&(this.imgs="next"===e?this.imgs.concat(this.imgs.shift()):[this.imgs.pop()].concat(this.imgs));var t=this._getPanel();this._setTranslate(t.curr,0,0),/next|resize/.test(e)&&this._setTranslate(t.next,"50%",0),/prev|resize/.test(e)&&this._setTranslate(t.prev,"-50%",0)},ParallaxEffect.prototype.onFlick=function(e,t){var n=this,r=e.pos,i=this.size,o=r%i/2,a=-(i/2-o);if(!(Math.abs(t)>=i)){var s=this._getPanel(),u=[];t>0&&s.next?(u.push({el:s.curr,x:o}),u.push({el:s.next,x:a})):t<0&&s.prev&&(u.push({el:s.curr,x:a}),u.push({el:s.prev,x:o})),u.forEach(function(e){return n._setTranslate(e.el,e.x+"px",0)})}},ParallaxEffect.prototype.onRestore=function(){this.arrange("resize")},ParallaxEffect.prototype.resize=function(){this.size=this.getInstanceConf().panel.size,this.onRestore("resize")},ParallaxEffect.prototype.get=function(){return this.imgs[this._getCurrIndex()]},ParallaxEffect}(o.default);t.default=a,e.exports=a},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(2),o=(r=i)&&r.__esModule?r:{default:r};var a=o.default.utils,s=a.extend(a.extend({},o.default.consts),{DIRECTION_NONE:o.default.DIRECTION_NONE,DIRECTION_LEFT:o.default.DIRECTION_LEFT,DIRECTION_RIGHT:o.default.DIRECTION_RIGHT,DIRECTION_UP:o.default.DIRECTION_UP,DIRECTION_DOWN:o.default.DIRECTION_DOWN,DIRECTION_HORIZONTAL:o.default.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:o.default.DIRECTION_VERTICAL,DIRECTION_ALL:o.default.DIRECTION_ALL}),u=function(){function Plugin(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Plugin),this.options=e}return Plugin.prototype.$componentWillMount=function(e){return this.$$=e,this.useWillChange="transform"===e.$container.style.willChange,this.useLayerHack=this.getInstanceConf().useLayerHack,this.bindEvents(),this.$componentMount(),this.$componentDidMount(),this},Plugin.prototype.$componentDidMount=function(){return this},Plugin.prototype.$componentWillUnmount=function(){var e=this;Object.keys(this).forEach(function(t){e[t]=null})},Plugin.prototype.getInstanceConf=function(){return this.$$._conf},Plugin.prototype.bindEvents=function(){this.$$.on({flick:this._onFlick.bind(this),flickEnd:this._onFlickEnd.bind(this),restore:this._onRestore.bind(this)})},Plugin.prototype._onFlick=function(e){var t=e.pos,n=e.distance||t-this.$$._conf.panel.size;this.onFlick&&this.onFlick(e,n)},Plugin.prototype._onFlickEnd=function(e){var t=(e.direction&s.DIRECTION_LEFT?"next":e.direction&s.DIRECTION_RIGHT&&"prev")||"";t&&this.arrange&&this.arrange(t),this.onFlickEnd&&this.onFlickEnd(e)},Plugin.prototype._onRestore=function(e){this.onRestore&&this.onRestore(e)},Plugin}();u.utils=a,u.consts=s,u.VERSION="2.4.0",t.default=u},function(t,n){t.exports=e}])});
//# sourceMappingURL=ParallaxEffect.min.js.map